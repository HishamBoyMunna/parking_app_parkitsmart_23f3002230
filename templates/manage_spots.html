{% extends 'base.html' %}
 {% block title %}Manage Spots - {{ parking_lot.prime_location_name }}{% endblock %}
 {% block content %}
     <div class="jumbotron text-center">
         <h1 class="display-4">Manage Spots for {{ parking_lot.prime_location_name }}</h1>
         <p class="lead">Lot ID: {{ parking_lot.id }}</p>
         <hr class="my-4">
     </div>
     <div class="row">
         <div class="col-md-12">
             <h3>Current Spots ({{ spots|length }} / {{ parking_lot.maximum_number_of_spots }})</h3>
             {% if spots %}
                 <table class="table table-striped table-hover">
                     <thead>
                         <tr>
                             <th>Spot Number</th>
                             <th>Status</th>
                             <th>Actions</th>
                         </tr>
                     </thead>
                     <tbody>
                         {% for spot in spots %}
                             <tr>
                                 <td>{{ spot.spot_number }}</td>
                                 <td>{{ spot.status }}</td>
                                 <td>
                                    <a href="{{ url_for('edit_spot', spot_id=spot.id) }}" class="btn btn-sm btn-warning me-2">Edit Name/Status</a>
                                    <form action="{{ url_for('delete_spot', spot_id=spot.id) }}" method="post" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete spot {{ spot.spot_number }}? This will reduce the total capacity of the parking lot and cannot be undone.');">
                                        <button type="submit" class="btn btn-sm btn-danger">Delete</button>
                                    </form>
                                </td>
                             </tr>
                         {% endfor %}
                     </tbody>
                 </table>
             {% else %}
                 <p>No spots have been initialized for this parking lot yet. This would typically happen automatically when the lot is added or its max spots are set.</p>
             {% endif %}
             <a href="{{ url_for('admin_dashboard') }}" class="btn btn-secondary mt-3">Back to Admin Dashboard</a>
         </div>
     </div>
 {% endblock %}
